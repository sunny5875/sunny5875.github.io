---
layout: post
title: Demystify SwiftUI
date: 2024-03-13 22:25:33 +0000
category: Swift
---

ì¢…ë¥˜: SwiftUI

### ì°¸ê³ ì˜ìƒ

[Demystify SwiftUI - WWDC21 - Videos - Apple Developer](/assets/2024-03-13-Demystify-SwiftUI/https://developer.apple.com/videos/play/wwdc2021/10022/)

### SwiftUI

- ì„ ì–¸í˜• í”„ë ˆì„ì›Œí¬ì´ì§€ë§Œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ ì ì´ ìˆìŒ
- **swiftUIê°€ ê°€ì§€ê³  ìˆëŠ” ì„¸ê°€ì§€**
    - **identity**
        - elementê°€ ê°™ì€ì§€ ë‹¤ë¥¸ì§€ íŒë‹¨
    - **lifetime**
        - viewì˜ ë°ì´í„°ë¥¼ íŠ¸ë˜í‚¹í•˜ëŠ” ì‹œê°„
    - **dependencies**
        - inhterfaceê°€ ì–¸ì œ ì—…ë°ì´íŠ¸ë˜ëŠ”ì§€
    
    â†’ ìœ„ ì„¸ê°€ì§€ë¡œ what needs to change, how and when dynamic user interfaceë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ ë¨
    

# Identity

ex) íƒ­í•´ì„œ good, badë¥¼ ë°”ê¾¸ëŠ” ì•±

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.47.18.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.47.18.png)

- ê°™ì€ ë·°ë¼ë©´ ìŠ¬ë¼ì´ë“œë¥¼ í•´ì•¼í•˜ê³  ë‹¤ë¥¸ ë·°ë¼ë©´ fade in, out ì²˜ëŸ¼ ì›€ì§ì—¬ì•¼ í•¨

**viewëŠ” ê°™ì€ identityë¥¼ ì‚¬ìš©í•œë‹¤ â†’ ê°™ì€ elementë¥¼ ê°€ì ¸ì•¼ í•¨**

**ë‹¤ë¥¸ identityë¥¼ ì‚¬ìš©í•œë‹¤ â†’ ë‹¤ë¥¸ elementë¥¼ ê°€ì ¸ì•¼ í•œë‹¤**

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.49.04.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.49.04.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.49.15.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.49.15.png)

### identityì˜ ì¢…ë¥˜

- **explicit identity**: using custom or data-driven identifiers.
    - assign name or identity
    - ê°•ë ¥í•˜ì§€ë§Œ ëª¨ë“  ì´ë¦„ë“¤ì„ íŠ¸ë˜í‚¹í•´ì•¼ í•¨
- **structural identity**: distinguishing views by their type and position in the view hierarchy.

### Explicit identity

- pointer identityë„ í¬í•¨ë˜ê¸´ í•˜ì§€ë§Œ swiftUIëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³  uiKitë§Œ ì‚¬ìš©í•¨

### Pointer identity

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.54.37.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.54.37.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.56.19.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.56.19.png)

- swiftUIëŠ” value typeì´ë‹ˆê¹Œ pointer identityë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ!

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.55.08.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.55.08.png)

â†’ ë”°ë¼ì„œ SwiftUiëŠ” ë‹¤ë¥¸ ê±¸ë¡œ idë¥¼ ì‚¬ìš©(/assets/2024-03-13-Demystify-SwiftUI/id)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.57.11.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.57.11.png)

- í˜¹ì€ `.id` modifierë¥¼ í†µí•´ì„œ idë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆì–´ ìŠ¤í¬ë¡¤ë·°ì—ì„œ ì§€ì •ëœ ë·°ë¡œ ì˜¬ë¼ê°€ë„ë¡ í•  ìˆ˜ ìˆìŒ

<aside>
ğŸ’¡ idê°€ ì—†ì–´ë„ implicití•˜ê²Œ idë¥¼ ë§Œë“ ë‹¤! ê·¸ê²Œ ë°”ë¡œ structual identity

</aside>

### Structual identity

view ë¬¸ ì•ˆì— ìˆëŠ” ifê°€ ë°”ë¡œ ì˜ˆì‹œ

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 9.59.32.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.59.32.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.00.49.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.00.49.png)

view í”„ë¡œí† ì½œì€ ì•”ì‹œì ìœ¼ë¡œ viewBuilderë¥¼ ë˜í•í•˜ë©° ì´ë¥¼ í†µí•´ ë‹¨ì¼ ì œë„ˆë¦­ ë·°ë¥¼ êµ¬ì„±í•¨!

â†’ ë”°ë¼ì„œ ì„œë¡œ ë‹¤ë¥¸ ë·°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê³ ìœ í•œ ì‹ë³„ìë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë·°ê°€ ì „í™˜ë¨

ê·¸ë ‡ë‹¤ë©´ ê°™ì€ ë·° ì „í™˜ìœ¼ë¡œ í‘œí˜„í•˜ê³  ì‹¶ë‹¤ë©´??

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.03.34.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.03.34.png)

- ìœ„ì˜ ë°©ì‹ì´ swiftUIê°€ ì¶”ì²œí•˜ëŠ” ë°©ì‹!

### AnyView

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.04.36.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.04.36.png)

- ìœ„ì—ì²˜ëŸ¼ some Viewë¥¼ ë¦¬í„´í•  ë•Œ íƒ€ì…ì´ ê°™ì•„ì•¼ í•˜ë‹ˆê¹Œ anyViewë¡œ ë©í•‘í•  ìˆ˜ ìˆìŒ
- í•˜ì§€ë§Œ ì´ëŸ´ ê²½ìš° conditional viewì„ì„ ì¸ì§€í•˜ì§€ ëª»í•˜ì—¬ anyViewë¥¼ **type erasing wrapper type**ì´ë¼ê³ ë„ ë¶€ë¦„!

â†’ ì¢€ ë” ìŠ¤ìœ ë‹µê²Œ ë°”ê¿”ë³´ì!

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.09.06.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.09.06.png)

- AnyViewì™€ returnì„ ì—†ì•´ê³  @viewBuilderë¥¼ ì¶”ê°€, swiftë¬¸ìœ¼ë¡œ ë³€ê²½
- viewBuilderë¥¼ í†µí•´ì„œ ë·°ë¥¼ ë‹¤ë¥¸ ë·°ë¥¼ ë¦¬í„´í•´ë„ ì—ëŸ¬ ì—†ì–´ì§ˆ ìˆ˜ ìˆê²Œ ë¨

**Note: AnyViewê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ì´í•´í•˜ê¸° ì–´ë µê²Œ ë˜ê³  compile timeì— ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‚¨ìš©í•˜ë©´ ì•ˆë¨**

---

# LifeTime

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.11.31.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.11.31.png)

- identityëŠ” elementê°€ ì‹œê°„ì— ë”°ë¼ valueê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ

**Note: view value â‰  view identityì„ì„ ìœ ì˜**

- viewì˜ lifetimeì€ duration of the identityë¥¼ ì˜ë¯¸í•¨
- @State, @StateObjectê°€ ë°”ë¡œ viewì˜ identityì™€ í•¨ê¼ ê°€ëŠ” stoerageë¼ê³  ë³´ë©´ ë¨

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.15.27.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.15.27.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.17.03.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.17.03.png)

- trueë¡œ ê°€ë‹¤ê°€ falseë¡œ ê°€ë©´ ë”°ë¡œ storageë¥¼ ë§Œë“¤ê³  trueì¼ ë•Œì˜ storageëŠ” destoryê°€ ë¨

**Note: state(/assets/2024-03-13-Demystify-SwiftUI/identity) lifetime = view lifetime**

### ForEach

- ë³´ì—¬ì¤„ë ¤ëŠ” íƒ€ì…ì´ identifiableì„ ë§Œì¡±í•´ì•¼ ì›Œë‹ ì—†ì´ stable identity for you dataê°€ ê°€ëŠ¥
- idë¥¼ \.self í˜¹ì€ ë§¤ë²ˆ UUID(/assets/2024-03-13-Demystify-SwiftUI/)ë¥¼ ë¦¬í„´í•˜ëŠ” ë³€ìˆ˜ë¥¼ idë¡œ ì‚¬ìš©í•˜ë©´ not stableì´ë¯€ë¡œ ì¶”ê°€, ì‚­ì œ ë˜ë©´ ëª¨ë‘ ë‹¤ì‹œ ê·¸ë¦¬ê²Œ ë¨ ìœ ì˜í•  ê²ƒ
- ë˜í•œ idë¥¼ uniqueí•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ë¡œ ì •í•˜ê²Œ ë˜ë©´ ì¼ë¶€ê°€ ê°€ë ¤ì§€ëŠ” ê²½ìš°ê°€ ìˆê¸°ì— ìœ ì˜í•  ê²ƒ

---

## Dependenicies

- viewì˜ input
- inputì´ ë‹¬ë¼ì§€ë©´ bodyë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
- actionì€ viewì˜ dependeciesë¥¼ ë°”ê¾¸ê²Œ í•˜ëŠ” trigger
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.24.24.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.24.24.png)
    
- dependency graphë¥¼ í†µí•´ ì–´ë–¤ ë·°ê°€ ì–´ë–»ê²Œ ì˜í–¥ë°›ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŒ
- identityëŠ” graphì˜ backbone

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.28.01.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.28.01.png)

---

### ì •ë¦¬

- ì²˜ìŒ ì½”ë“œì²˜ëŸ¼ ê·¸ë¦¬ë©´ ê°™ì€ ë·°ì´ì§€ë§Œ ë‹¤ë¥¸ identityë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— ë’¤ì˜ ì½”ë“œì²˜ëŸ¼ ë·°ë¥¼ ê·¸ë ¤ì•¼ ê°™ì€ identityë¥¼ ê°€ì§€ê²Œ ë¨

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.34.38.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.34.38.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.34.43.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.34.43.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.32.45.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.32.45.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-13 á„‹á…©á„’á…® 10.36.01.png](/assets/2024-03-13-Demystify-SwiftUI/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-03-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.36.01.png)

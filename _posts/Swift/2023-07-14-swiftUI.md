---
layout: post
title: swiftUI ì •ë¦¬
categories: Swift
tags: 
date: 2023-07-14 23:25:33 +0000
last_modified_at: 2023-07-14 23:25:33 +0000
---

[https://lsh424.tistory.com/83#recentComments](https://lsh424.tistory.com/83#recentComments)

- ëª¨ë“  í”Œë™í¼ì—ì„œ ì•±ì˜ ì¸í„°í˜ì´ìŠ¤ì™€ ë™ì‘ì„ ì„ ì–¸
- ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë° í”„ë ˆì„ì›Œí¬

## App : App

- uiKitì—ì„œì˜ appdelegateë¡œ ìƒëª…ì£¼ê¸°ë‚˜ uiapplication ê°ì²´ì— ëŒ€í•œ ì»¨íŠ¸ë¡¤ì„ í•˜ëŠ” ì—­í• 
- **ì•±ì˜ êµ¬ì¡°ì™€ ë™ì‘ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ íƒ€ì…**
- ë§ ê·¸ëŒ€ë¡œ â€œì•±â€ ì„ êµ¬ì„±í•˜ê³  ë™ì‘ì‹œí‚¤ê¸° ìœ„í•´ ìˆëŠ” íƒ€ì…(í”„ë¡œí† ì½œ)
    
    â†’ ì‚¬ìš©í•  ë•, êµ¬ì¡°ì²´ì— í•´ë‹¹ í”„ë¡œí† ì½œì„ ì±„íƒ
    
    ê·¸ë¦¬ê³  bodyëŠ” ë°˜ë“œì‹œ ìˆì–´ì•¼ í•˜ëŠ” ì†ì„±
    
    ê·¸ë¦¬ê³ Â `@main`Â ì„ í‘œì‹œ
    

<aside>
ğŸ’¡ @main : ì‹¤í–‰íŒŒì¼ì„ ë§Œë“ ë‹¤. cì–¸ì–´ì˜ ë©”ì¸í•¨ìˆ˜ ëŠë‚Œ? ì„ ì–¸ ì‹œ í•´ë‹¹ íŒŒì¼ì´ top-level-codeì— ìœ„ì¹˜í•˜ê²Œ ë˜ì–´ëª¨ë“  ì†ŒìŠ¤ì½”ë“œ ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤!! ì•±ì˜ ì‹œì‘ì ì„ ì˜ë¯¸

</aside>

```swift
@main
struct Mail: App {
    var body: some Scene {
        WindowGroup {
            MailViewer()
        }
        Settings {
            SettingsView()
        }
    }
}
```

## ContentView : View

- ë‘ê°€ì§€ êµ¬ì¡°ì²´ ì„ ì–¸
    - viewì˜ ì»¨í…ì¸ ì™€ ë ˆì´ì•„ì›ƒì„ ë¬˜ì‚¬
    - í•´ë‹¹ ë·°ì— ëŒ€í•œ previewë¥¼ ì„ ì–¸
- command ë²„íŠ¼ì„ ëˆ„ë¥¸ ìƒíƒœì—ì„œ previewë¥¼ ëˆ„ë¥´ë©´ ìˆ˜ì • ê°€ëŠ¥
- viewì— ìˆëŠ” bodyëŠ” ì—°ì‚° í”„ë¡œí¼í‹°ë¼ê³  ë³¼ ìˆ˜ ìˆìŒ
    
    ```swift
    struct BeatifulView: View {
    	var body: some View {
        Text("Hello SwiftUI")
    	}
    }
    ```
    

<aside>
ğŸ’¡ some : ë¶ˆíˆ¬ëª… íƒ€ì…, ì¦‰ ë¦¬í„´ë  ë•Œ í™•ì •ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸ . ë‹¨ ë¦¬í„´í•˜ëŠ” ëª¨ë“  ê²½ìš°ì˜ íƒ€ì…ì´ ë™ì¼í•´ì•¼ í•œë‹¤. ì–´ë–¤ ê²½ìš° color, ì–´ë–¤ ê²½ìš° textê°€ ë¦¬í„´ë˜ë©´ ì•ˆë˜ë‹¤ëŠ” ì˜ë¯¸!!

</aside>

- viewë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° ìœ„í•´ì„œëŠ” modifer ë©”ì†Œë“œë¥¼ ì‚¬ìš©
    - ex) .font(.body)   .foregroundColor(.green)
- ìŠ¤íƒì˜ ì¢…ë¥˜
    - HStack : ìˆ˜í‰ìŠ¤íƒ
    - VStack : ìˆ˜ì§ìŠ¤íƒ
    - ZStack : zì¶•ìœ¼ë¡œ ë·°ë¥¼ ìŒ“ëŠ” ìŠ¤íƒ
    - LazyVStack : ì‚¬ìš©ìê°€ ë³´ëŠ” í™”ë©´ì— ë¬´ì—‡ì„ ëœë”ë§í•  í•„ìš”ê°€ ìˆì„ ë•Œê¹Œì§€ëŠ” êµ¬ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»
        
        ```swift
        ScrollView {
        	LazyVStack(alignment: .leading) {
        		ForEach(1...10, id: \.self) {
        			Text("Row \($0)")
        		}
        	}
        }
        ```
        

---

[https://seons-dev.tistory.com/category/SWIFTUI/Grammar](https://seons-dev.tistory.com/category/SWIFTUI/Grammar) ì°¸ì¡°

## Uikit VS SwiftUI

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-11 á„‹á…©á„’á…® 3.06.08.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.06.08.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-11 á„‹á…©á„’á…® 3.06.16.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.06.16.png)

### @State

- **swiftUIì—ì„œ ê´€ë¦¬í•˜ëŠ” ê°’ì„ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ì†ì„± ë˜í¼ ìœ í˜•**
- ì‚¬ìš©ìì˜ Inputì— ë”°ë¼ ë°”ë€ŒëŠ” ë³€ìˆ˜
- stateê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ í•­ìƒ ìƒˆë¡œìš´ viewì—ì„œ ë Œë”ë§ëœë‹¤
- @stateëŠ” structì—ì„œë§Œ ì‘ë™!
- viewì˜ Bodyì—ì„œë§Œ stateë³€ìˆ˜ì— ì ‘ê·¼í•´ì•¼ í•¨
- privateë¡œ ë‘¬ì•¼ ì•ˆì „

```swift
struct UserSettings {
    var score = 0
}

struct ContentView: View {

    @State var settings = UserSettings()

    var body: some View {
        VStack {
            Text("ë‚˜ì˜ ì ìˆ˜ëŠ” \(settings.score)ì  ì…ë‹ˆë‹¤.")
            Button(action: {
                self.settings.score += 1
            }) {
                Text("Increase Score")
            }
        }
    }
}
```

â†’ ì•½ê°„ uikitì˜ didsetê³¼ ë™ì¼í•˜ì§€ë§Œ ì°¨ì´ì ì€ didsetì€ ë‚´ë¶€ì½”ë“œë¸”ëŸ­ë§Œ ì‹¤í–‰ëœë‹¤ë©´ stateëŠ” viewë¥¼ ì•„ì˜ˆ ë‹¤ì‹œ ë§Œë“ ë‹¤!!!

didsetì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ê³  stateëŠ” structì—ì„œ ì‚¬ìš©í•œë‹¤ëŠ” ì°¨ì´ì ì´ ì¡´ì¬, structì—ì„œ ê°’ì´ ë³€ê²½ê°€ëŠ¥í•˜ê³  ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ viewë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ê³  ì‹¶ì–´ì„œ stateë¼ëŠ” ê°œë…ì„ ë„ì…í•œ ê±¸ë¡œ ìƒê°í•˜ë©´ ëœë‹¤!@!

<aside>
ğŸ’¡ @StateëŠ” ìê¸°ê°€ ì†í•œ Viewì—ì„œë§Œ í•œì •ë˜ëŠ” ê°’ì´ë‹¤.

ë§Œì•½, ê³µìœ í•˜ê±°ë‚˜ ë‹¤ë¥¸ viewì—ì„œ ì ‘ê·¼í•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´, @ObservableObject ì™€ @EnvironmentObjectë¥¼ ì‚¬ìš©í•œë‹¤.

</aside>

### @Binding

ìƒìœ„ view : **@state** (ì „ë‹¬í•´ì¤„ê±°ë©´)

-stateë¥¼ ì „ë‹¬í•´ì¤„ê±°ë¼ë©´ $ë¥¼ ë¶™ì—¬ì„œ ì „ë‹¬

í•˜ìœ„ view : **@Binding** (ì „ë‹¬ ë°›ì„ ì˜ˆì •ì´ë©´)

```swift
import SwiftUI

struct Person: Identifiable {
    let id = UUID()
    var fristName: String // ë°ì´í„°ê°€ ë³€ê²½ë  ì˜ˆì •ì´ë¯€ë¡œ var
    var lastName: String  // ë°ì´í„°ê°€ ë³€ê²½ë  ì˜ˆì •ì´ë¯€ë¡œ var
    
    init(_ fristName: String, _ lastName: String) {
        self.fristName = fristName
        self.lastName = lastName
    }
}

struct ContentView: View {
    //detail viewë¡œ ë³´ë‚¼ ê°’
    @State private var people: [Person] = [
        Person("Uno", "Kim"),
        Person("Uno", "Park"),
        Person("Uno", "Lee"),
    ]
    
    var body: some View {
        
       NavigationView {
            VStack {
                HeaderView("Hello, SwiftUI",
                           "by Uno")
                
                List($people) { $person in
                    NavigationLink(destination: {
                        DetailView(
                            fristName: $person.fristName,
                            lastName: $person.lastName)
                    }, label: {
                        Text("\(person.lastName) \(person.fristName)")
                    })
                }
                Spacer()
            }
            .navigationTitle("Bindingê³¼ Listì˜ ë§Œë‚¨")
        }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}

struct HeaderView: View {
    let title: String
    let subtitle: String
    
    init(_ title: String,
         _ subtitle: String) {
        self.title = title
        self.subtitle = subtitle
    }
    
    var body: some View {
        HStack {
            VStack(alignment: .leading) {
                Text(title)
                    .font(.system(size: 20, weight: .bold, design: .monospaced))
                    .lineLimit(1)
                
                Text(subtitle)
                    .font(.system(size: 11, weight: .medium, design: .monospaced))
                    .lineLimit(1)
                    .foregroundColor(.gray)
                    .padding(.leading, 3)
            }
            .padding(.leading, 18)
            Spacer()
        }
    }
}
```

```swift
import SwiftUI

struct DetailView: View {
    @Binding var fristName: String
    @Binding var lastName: String

    var body: some View {
        HStack {
            VStack {
                Text("ì„±ê³¼ ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”.")
                
                Color.black
                    .frame(
                        width: UIScreen.main.bounds.width,
                        height: 1)
                
                TextField(fristName, text: $fristName)
                
                Divider()
                
                TextField(lastName, text: $lastName)
            }
            .padding(10)
            .border(.black, width: 1)
            
            Spacer()
        }
        .navigationTitle("Editing Name")
    }
}

struct DetailView_Previews: PreviewProvider {
    static var previews: some View {
        NavigationView {
            DetailView(fristName: .constant("Uno"), lastName: .constant("Kim"))
        }
    }
}
```

### @ObservedObject

- ê°„ë‹¨í•œ ë¡œì»¬ í”„ë¡œí¼í‹°(String, integer) ëŒ€ì‹  ì™¸ë¶€ ì°¸ì¡° íƒ€ì…ì„ ì‚¬ìš©
- stateì™€ ë¹„ìŠ·
- classë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ stateê°€ ì•„ë‹ˆë¼ ì´ê±¸ ì¨ì•¼ í•¨!
- @observedObjectê°€ ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆìŒì„ viewì— ì•Œë¦¬ëŠ” ë°©ë²•ì€ @Published í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ
- ì£¼ë¡œ viewModelì„ ì„ ì–¸í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí¼í‹°
- observableObjectë¥¼ êµ¬ë…í•˜ê³  ê°’ì´ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ë·°ë¥¼ ê°±ì‹ í•˜ëŠ” propertyWrapper

```swift
class UserSettings: ObservableObject {
   //@ObervedObjetë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•´ @Publishedë¥¼ í• ë‹¹
   @Published var score = 0
}

struct ContentView: View {
   //@stateë¥¼ ì§€ìš°ê³  @ObervedObjectë¡œ ë°”ê¿”ì¤Œ
    @ObservedObject var settings = UserSettings()

    var body: some View {
        VStack {
            Text("ë‚˜ì˜ ì ìˆ˜ëŠ” \(settings.score)ì  ì…ë‹ˆë‹¤.")
            Button(action: {
                self.settings.score += 1
            }) {
                Text("Increase Score")
            }
        }
    }
}
```

â†’ scoreì´ ë³€ê²½ë˜ë©´ viewë¥¼ reloadí•˜ê²Œ ëœë‹¤

### @StateObject

- observedObjectì™€ ë™ì¼í•˜ì§€ë§Œ ios14ì—ì„œ ë‹¨ì ì„ ë³´ì™„í•´ì„œ ë‚˜ì˜¨ ê°œë…
- ë‹¤ë¥¸ë·°ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šê³  observableì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ì¡´ì¬

```swift
class TestObject: ObservableObject {
    @Published var num: Int = 0
}

struct StateObjectTestView: View {
    @StateObject var stateObject = TestObject()
    
    var body: some View {
        VStack {
            Text("State object: \(stateObject.num)")
            Button("Increase state object", action: {
                stateObject.num += 1
                print("State object: \(stateObject.num)")
            })
        }
        .onChange(of: stateObject.num) { newStateObject in
            print("State: \(newStateObject)")
        }
    }
}
```

### @Published == observable

- ë³€ê²½ì´ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” observableê°ì²´ë“¤ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤
- ObservableObjectì—ì„œ propertyë¥¼ ì„ ì–¸í•  ë•Œ ì‚¬ìš©í•˜ëŠ” PropertyWrapper

```swift
class Bag: ObservableObject {
    @Published var items = [String]()
}
```

### @EnvironmentObject

- ìƒìœ„ ë·°ì—ì„œ ì œê³µí•˜ëŠ” observableObjectì— ëŒ€í•œ propertyWrapperType
- ìƒìœ„ë·°ì—ì„œ ì •ì˜í•œ í”„ë¡œí¼í‹°ë¥¼ í•˜ìœ„ë·°ì—ì„œë„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ”..ë­ê·¸ëŸ°ê±°â€¦
- previewì—ì„œ .encironmentObject()ë¡œ ì „ë‹¬í•´ì£¼ë©´ ë˜ëŠ” ê±° ê°™ì€â€¦ëŠë‚Œì¸ë° ë¨¼ì§€ ëª¨ë¥´ê² ì–´â€¦.

## Binding

```swift
@State var name: String = ""
    
    var body: some View {
        VStack {
            Text("Your name is \(name)")
            TextField("ì´ë¦„", text : $name)
        }
    }
```

```swift
struct Epicode{
    let song : String
    let singer : String
    let track : String
}

struct BIndingPractice: View {
    
    let epicode = Epicode(song: "strawberry Moon", singer: "IU", track: "Celebrity 1th")
    
    @State private var isPlaying = false
    
    var body: some View {
        VStack{
            Image("chincoteague")
                .cornerRadius(10.0)
            
            Text(epicode.song)
                .font(.title)
                .foregroundColor(self.isPlaying ? .blue : .black)
            Text(epicode.singer)
                .foregroundColor(.secondary)
            Text(epicode.track)
                .font(.footnote)
                .foregroundColor(.secondary)
            
            PlayButton(isPlaying: $isPlaying)
        }
    }
}

struct PlayButton: View {
    @Binding var isPlaying : Bool
    
    var body: some View {
        
        Button(action: {
            self.isPlaying.toggle()
        }) {
            Image(systemName: "play.fill")
            .font(.system(size: 30))
            .foregroundColor(self.isPlaying ? .blue : .black)
        }.padding(15)
    }
}

struct BIndingPractice_Previews: PreviewProvider {
    static var previews: some View {
        BIndingPractice()
    }
}
```

## TabView

```swift
struct ContentView: View {
    @State private var selection: Tab = .featured
    
    enum Tab { //tab ì¢…ë¥˜
          case featured
          case list
      }
    
    var body: some View {
	//ì—¬ê¸°ì„œ tabViewë¥¼ ë§Œë“¦
        TabView(selection: $selection) {
           CategoryHome()
                .tabItem {
                   Label("Featured", systemImage: "star")
               }
               .tag(Tab.featured)

           LandmarkList()
                .tabItem {
                   Label("List", systemImage: "list.bullet")
               }
               .tag(Tab.list)
       }
    }
}
```

- ë·°ì˜ íŠ¹ì • ì†ì„±ìœ¼ë¡œ ë˜ì–´ ìˆëŠ” ê²ƒì„ ë³€ê²½í•˜ê³  ì‹¶ë‹¤?? â†’ environmentë¥¼ ë– ì˜¬ë¦¬ë©´ ë¼!!

### ForEach

- ForEachë¥¼ ë·°ë¥¼ ì œê³µí•  ë•Œ, ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ê·¸ ë·°ëŠ” â€œRandomAccessCollectionâ€ì˜ ë°ì´í„° íƒ€ì…ì¸ ë·° ì…ë‹ˆë‹¤.
- ì»¬ë ‰ì…˜ì˜ êµ¬ì„±ìš”ì†Œë“¤ì€Â `Identifiable`
Â ì„ ì¤€ìˆ˜í•˜ê³  íŒŒë¼ë¯¸í„°ë¡œ idê°’ì„ ë°˜ë“œì‹œ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
- tableview, collectionView ì‚¬ìš©ì— ì£¼ë¡œ ë§ì´ ì‚¬ìš©

> ë¬¸ì œì ! : swiftUIë¥¼ ë°°ìš°ë‹¤ë³´ë‹ˆ ë“œëŠ” ì˜ë¬¸ì ì´ MVVMì´ë‘ ë§ëƒë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤â€¦ ìŒ viewModelì—ëŠ” ë¡œì§ê³¼ ë·°ë¥¼ ë¶„ë¦¬í•œë‹¤ëŠ” ì¥ì ë„ ìˆì§€ë§Œ ë¬´ì—‡ë³´ë‹¤ ë°ì´í„°ë°”ì¸ë”©ì´ë¼ëŠ” ì¥ì ì´ ìˆëŠ”ë° swiftUIëŠ” ì´ ê¸°ëŠ¥ì´ viewì— ìˆì–´ì„œ ì´ê±¸ ë­ë¼ê³  í•´ì•¼í•˜ë‚˜â€¦. ã… ã… ã…  ì• ë§¤í•˜ë‹¹ ë­ê°€ ë‚˜ì€ê±°ì§•?
> 

- swiftUIì—ëŠ” info.plistê°€ ì—†ê³  targetì— ë“¤ì–´ê°€ì„œ settingì—ì„œ ë°”ê¿”ì•¼ í•¨
- swiftUIì—ëŠ” rxswift ëŒ€ì‹  combineë¥¼ ì“´ë‹¤ê³  í•œë‹¤ ì´ê²ƒë„ ë°°ì›Œì•¼í•˜ëŠ” ê±´ê°€..? ì„¸ìƒì—
    - rxswiftê³¼ ê±°ì˜ ë¹„ìŠ·í•˜ì§€ë§Œ ê°€ë³ì§€ë§Œ ëŒ€ì‹  disposeBagì´ ì—†ë‹¤ê³  í•œë‹¤
- [https://eunjin3786.tistory.com/67](https://eunjin3786.tistory.com/67)

---

# SwiftUIì—ì„œì˜ ì•„í‚¤í…ì²˜

model - view

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-13 á„‹á…©á„’á…® 1.36.11.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.36.11.png)

```swift
struct ChatListView: View {
    let chatService: ChatService

    var body: some View {
        NavigationView {
            List(chatService.fetchChats()) { chat in
                NavigationLink(
                    destination: ChatDetailView(chat: chat, chatService: self.chatService)
                ) {
                    ChatCell(chat: chat)
                }
            }
            .navigationBarTitle("Chats")
        }
    }
}
```

```swift
struct ChatDetailView: View {

    private let chat: Chat
    private let chatService: ChatService
    
    @ObservedObject private var keyboardObserver = KeyboardObserver.shared
    
    @State private var newMessage = ""
    @State private var messages: [Message] = []

    /* ... */

    var body: some View {
        VStack {
            List(messages) { message in
                MessageView(message: message,
                            isMine: self.chatService.currentUser == message.sender)
            }

            Divider()

            HStack {
                TextField("New message",
                          text: $newMessage,
                          onCommit: sendMessage)
                Button(action: sendMessage) {
                    Text("Send")
                }
            }
            .padding([.leading, .top, .trailing])
        }
        .padding(.bottom, keyboardObserver.height)
        .navigationBarTitle(Text(chat.title), displayMode: .inline)
        .animation(.easeInOut)
        .onAppear { self.reloadMessages() }
    }

    private func sendMessage() {
        chatService.addMessage(newMessage, to: chat)
        newMessage = ""
        reloadMessages()
    }

    private func reloadMessages() {
        self.messages = chatService.fetchMessages().filter { $0.chatId == chat.id }
    }

}
```

- ì¥ì 
    - ë¹ ë¥´ê²Œ ê°œë°œ ê°€ëŠ¥
    - ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ ì ê²Œ ì—…ë°ì´íŠ¸ëœë‹¤
- ë‹¨ì 
    - ë³µì¡í•´ì§€ë©´ ë³´ê¸°ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤
    - ì¬ì‚¬ìš©ì„±ì´ ë‚®ë‹¤

# MVVM

- ê¸°ì¡´ì˜ uikitì—ì„œì˜ mvvmê³¼ ë™ì¼

```swift
import SwiftUI

struct ContentView: View {
    
    @ObservedObject private var counterVM: CounterViewModel
    
    init() {
        counterVM = CounterViewModel()
    }
    
    var body: some View {
        VStack {
            
            Text(counterVM.premium ? "PREMIUM" : "")
                .foregroundColor(Color.green)
                .frame(width: 200, height: 100)
                .font(.largeTitle)
            
            Text("\(counterVM.value)")
                .font(.title)
            Button("Increment") {
                self.counterVM.increment()
            }
        }
    }
}
```

```swift
import Foundation
import SwiftUI

class CounterViewModel: ObservableObject {
    
    @Published private var counter: Counter = Counter()
    
    var value: Int {
        counter.value
    }
    
    var premium: Bool {
        counter.isPremium
    }
    
    func increment() {
        counter.increment()
    }
}
```

# Redux

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-13 á„‹á…©á„’á…® 1.38.17.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.38.17.png)

# Flux

ë¦¬ì—‘íŠ¸ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì•„í‚¤í…ì²˜

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-13 á„‹á…©á„’á…® 1.46.23.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.46.23.png)

- actionì´ ë°œìƒí•˜ë©´ dispatcherì— ì˜í•´ storeì— ë³€ê²½ëœ ì‚¬í•­ì´ ì €ì¥ë˜ê³  ì €ì¥ëœ ì‚¬í•­ì— ë”°ë¼ì„œ viewê°€ ë³€ê²½ë˜ëŠ” ë‹¨ë°©í–¥íŒ¨í„´
- dispatcherëŠ” actionì„ ì •ë¦¬í•´ì£¼ê³  storeì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ë“¤ì´ ì €ì¥ë˜ëŠ” ì¥ì†Œ
- mvcì˜ êµ¬ì¡°ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ êµ¬ì¡°
    
    ![Untitled](/assets/images/2023-07-14-swiftUI/Untitled.png)
    
- ì¥ì  : ë‹¨ë°©í–¥ìœ¼ë¡œ íë¥´ê¸° ë•Œë¬¸ì— í›¨ì”¬ íŒŒì•…í•˜ê¸°ê°€ ì‰½ê³  ì½”ë“œì˜ íë¦„ì´ ì˜ˆì¸¡ê°€ëŠ¥

# Redux

ë¦¬ì—‘íŠ¸ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì•„í‚¤í…ì²˜

- 
- Fluxì™€ ë‹¬ë¦¬ ë¦¬ë•ìŠ¤ëŠ” dispatcherë¼ëŠ” ê°œë…ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë¦¬ë•ìŠ¤ëŠ” ë‹¤ìˆ˜ì˜ storeë„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  ë¦¬ë•ìŠ¤ëŠ” í•˜ë‚˜ì˜ rootì— í•˜ë‚˜ì˜ storeë§Œì´ ì¡´ì¬í•œë‹¤.
- ìˆœìˆ˜í•¨ìˆ˜(pure functions)ì— ì˜ì¡´í•œë‹¤. (stateì˜ ë¶ˆë³€ì„±)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-13 á„‹á…©á„’á…® 3.06.38.png](swiftUI%20489d67bf124c4689a2ecae6be10228f9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2022-10-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.06.38.png)

![Untitled](/assets/images/2023-07-14-swiftUI/Untitled%201.png)

---

# SwiftUIì™€ Combine

- Combineì€ ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ê°’ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Declarative Swift APIë¥¼ ì œê³µí•˜ëŠ” í”„ë ˆì„ì›Œí¬ì¸ ê²ƒì´ë‹¤.

![Untitled](/assets/images/2023-07-14-swiftUI/Untitled%202.png)

## Publisher

- ê²Œì‹œì

```swift
class IntPublisher: Publisher {

    typealias Output = Int
    typealias Failure = Never

    func receive<S>(subscriber: S) where S : Subscriber, Failure == S.Failure, Output == S.Input {

    }
}
```

- output : ì–´ë–¤ íƒ€ì…ì˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ„
- failure : ì‹¤íŒ¨í•  ê²½ìš° ì–´ë–¤ íƒ€ì…ì„ ë³´ë‚¼ ê²ƒì¸ì§€
- í•´ë‹¹ publisherë¥¼ êµ¬ë…í•˜ëŠ” subsciberëŠ” input, failureê°€ publisherì˜ output, failureì™€ ì¼ì¹˜í•´ì•¼ í•¨
- receive : í•´ë‹¹ publisherë¥¼ êµ¬ë…í•˜ëŠ” subsriberë¥¼ ë“±ë¡í•  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ

## Subscriber

- publisherë¥¼ êµ¬ë…í•˜ëŠ” ê°ì²´ subscriberê°€ publisherê°€ ë°œí–‰í•˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤

```swift
class IntSubscriber: Subscriber {
    typealias Input = Int
    typealias Failure = Never

    func receive(subscription: Subscription) {

    }

    func receive(_ input: Int) -> Subscribers.Demand {
        return .unlimited
    }

    func receive(completion: Subscribers.Completion<Never>) {

    }
}
```

- input : ì–´ë–¤ íƒ€ì…ì˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë°›ì„ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ„
- failure : ì‹¤íŒ¨í•  ê²½ìš° ì–´ë–¤ íƒ€ì…ì˜ í˜•íƒœë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€
- receive(sub -) : publisherì— ëŒ€í•œ êµ¬ë…ì´ ì„±ê³µí–ˆì„ ë•Œ subscriptionì´ë¼ëŠ” ê°ì²´ë¥¼ ì „ë‹¬ë°›ëŠ”ë° ì´ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ
- receive(input) : êµ¬ë…ì¤‘ì¸ publisherì— ëŒ€í•˜ì—¬ valueë¥¼ ì „ë‹¬ ë°›ì•˜ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ
- receive(completon) : êµ¬ë…ì¤‘ì¸ Publisherë¡œë¶€í„° completionì„ ì „ë‹¬ ë°›ì•˜ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ

### Subscription

- êµ¬ë…ì„ ëŒ€ë³€í•˜ëŠ” ê°ì²´
- publisherì™€ subscriberë¥¼ ì´ì–´ì¤Œ

```swift
class TestSubscription: Subscription {
    func request(_ demand: Subscribers.Demand) {

    }

    func cancel() {

    }
}
```

- request : subscriverê°€ ì–¼ë§ˆë‚˜ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ì„ì§€ë¥¼ ê²°ì •
- cancel : êµ¬ë…ì„ ì·¨ì†Œ

### combine ê°ì²´ë“¤ì˜ ìƒí˜¸ì‘ìš©

![Untitled](/assets/images/2023-07-14-swiftUI/Untitled%203.png)

1. ë¨¼ì € Subscriber ê°ì²´ê°€ Publisherì— êµ¬ë…ì„ ì‹œì‘í•œë‹¤. (Subscriberì˜Â `receive<S>(subscriber: S)`Â ë©”ì„œë“œ ì‹¤í–‰)
2. Publisherê°€ Subscription ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
3. Publisherê°€ ì´ë¥¼ Subscriber ê°ì²´ì—ê²Œ ì „ë‹¬í•œë‹¤. (Subscriberì˜Â `receive(subscription: )`Â ë©”ì„œë“œ ì‹¤í–‰)
4. Subscriberê°€ Subscriptionì—ê²Œ valuesë¥¼ ìš”ì²­í•œë‹¤.
5. Subscriptionì´ valuesë¥¼ ê°€ì ¸ì˜¨ë‹¤.
6. Subscriptionì´ Subscriberì—ê²Œ valuesë¥¼ ì „ë‹¬í•œë‹¤. (Subscriberì˜Â `receive(_ input: )`Â ë©”ì„œë“œ ì‹¤í–‰)
7. Subscriptionì´ Subscriberì—ê²Œ completionì„ ì „ë‹¬í•œë‹¤. (Subscriberì˜Â `receive(completion: )`Â ë©”ì„œë“œ ì‹¤í–‰)

<aside>
ğŸ’¡ ê²°ë¡ !! ì¼ë‹¨ì€ uikitì“°ìâ€¦. swiftUIëŠ” ë„ˆë¬´ ì‹œê¸°ìƒì¡°ì´ë‹¤â€¦ ëŒ€ì‹  storyboard code baseë¡œ í•´ë³´ì!!

</aside>
